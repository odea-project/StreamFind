<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Settings for aligning and grouping features (i.e.,
chromatographic peaks) across mzML/mzXML files using the package
xcms
(version 3) with the algorithm
peakGroups
for retention time alignment and the algorithm
peakdensity
for grouping. The function uses the package patRoon in the background."><title>Settings_group_features_xcms3_peakdensity_peakgroups — Settings_group_features_xcms3_peakdensity_peakgroups • StreamFind</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Settings_group_features_xcms3_peakdensity_peakgroups — Settings_group_features_xcms3_peakdensity_peakgroups"><meta property="og:description" content="Settings for aligning and grouping features (i.e.,
chromatographic peaks) across mzML/mzXML files using the package
xcms
(version 3) with the algorithm
peakGroups
for retention time alignment and the algorithm
peakdensity
for grouping. The function uses the package patRoon in the background."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">StreamFind</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/StreamFind.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/demo_ozonation_project.html">Evaluation of Wastewater Ozonation with Mass Spectrometry</a>
    <a class="dropdown-item" href="../articles/framework.html">StreamFind General Introduction</a>
    <a class="dropdown-item" href="../articles/ms_developer_guide.html">StreamFind Developer Guide</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/odea-project/StreamFind/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Settings_group_features_xcms3_peakdensity_peakgroups</h1>
      <small class="dont-index">Source: <a href="https://github.com/odea-project/StreamFind/blob/HEAD/R/fct_ms_default_ProcessingSettings.R" class="external-link"><code>R/fct_ms_default_ProcessingSettings.R</code></a></small>
      <div class="d-none name"><code>Settings_group_features_xcms3_peakdensity_peakgroups.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Settings for aligning and grouping features (i.e.,
chromatographic peaks) across mzML/mzXML files using the package
<a href="https://bioconductor.org/packages/release/bioc/html/xcms.html" class="external-link">xcms</a>
(version 3) with the algorithm
<a href="https://rdrr.io/bioc/xcms/man/adjustRtime-peakGroups.html" class="external-link">peakGroups</a>
for retention time alignment and the algorithm
<a href="https://rdrr.io/bioc/xcms/man/groupChromPeaks-density.html" class="external-link">peakdensity</a>
for grouping. The function uses the package <span class="pkg">patRoon</span> in the background.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Settings_group_features_xcms3_peakdensity_peakgroups</span><span class="op">(</span></span>
<span>  bw <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  minFraction <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  minSamples <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  binSize <span class="op">=</span> <span class="fl">0.008</span>,</span>
<span>  pre_bw <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  pre_minFraction <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pre_minSamples <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pre_binSize <span class="op">=</span> <span class="fl">0.008</span>,</span>
<span>  maxFeatures <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  rtAlignMinFraction <span class="op">=</span> <span class="fl">0.9</span>,</span>
<span>  extraPeaks <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  smooth <span class="op">=</span> <span class="st">"loess"</span>,</span>
<span>  span <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"gaussian"</span>,</span>
<span>  peakGroupsMatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">0</span>, ncol <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>  subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  subsetAdjust <span class="op">=</span> <span class="st">"average"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for Settings_group_features_xcms3_peakdensity_peakgroups</span></span>
<span><span class="fu">validate</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>bw</dt>
<dd><p>numeric(1) defining the bandwidth (standard deviation of the
smoothing kernel) to be used. This argument is passed to the <code><a href="https://rdrr.io/r/stats/density.html" class="external-link">density()</a></code>
method.</p></dd>


<dt>minFraction</dt>
<dd><p>numeric(1) defining the minimum fraction of analyses in at
least one analysis replicate group in which the features have to be present
to be considered as a feature group.</p></dd>


<dt>minSamples</dt>
<dd><p>numeric(1) with the minimum number of analyses in at least
one analysis replicate group in which the features have to be detected to be
considered a feature group.</p></dd>


<dt>binSize</dt>
<dd><p>numeric(1) defining the size of the overlapping slices in mz
dimension.</p></dd>


<dt>pre_bw</dt>
<dd><p>as <code>bw</code> but applied before retention time alignment.</p></dd>


<dt>pre_minFraction</dt>
<dd><p>as <code>minFraction</code> but applied before retention time
alignment.</p></dd>


<dt>pre_minSamples</dt>
<dd><p>as <code>minSamples</code> but applied before retention time
alignment.</p></dd>


<dt>pre_binSize</dt>
<dd><p>as <code>binSize</code> but applied before retention time alignment.</p></dd>


<dt>maxFeatures</dt>
<dd><p>numeric(1) with the maximum number of feature groups to be
identified in a single mz slice.</p></dd>


<dt>rtAlignMinFraction</dt>
<dd><p>numeric(1) between 0 and 1 defining the minimum
required fraction of samples in which peaks for the peak group were identified.
Peak groups passing this criteria will aligned across samples and retention
times of individual spectra will be adjusted based on this alignment.
For minFraction = 1 the peak group has to contain peaks in all samples of
the experiment. Note that if subset is provided, the specified fraction is
relative to the defined subset of samples and not to the total number of
samples within the experiment (i.e. a peak has to be present in the specified
proportion of subset samples).</p></dd>


<dt>extraPeaks</dt>
<dd><p>numeric(1) defining the maximal number of additional peaks
for all samples to be assigned to a peak group (i.e. feature) for retention
time correction. For a data set with 6 samples, extraPeaks = 1 uses all peak
groups with a total peak count &lt;= 6 + 1. The total peak count is the total
number of peaks being assigned to a peak group and considers also multiple
peaks within a sample being assigned to the group.</p></dd>


<dt>smooth</dt>
<dd><p>character defining the function to be used, to interpolate
corrected retention times for all peak groups. Either "loess" or "linear".</p></dd>


<dt>span</dt>
<dd><p>numeric(1) defining the degree of smoothing (if smooth = "loess").
This parameter is passed to the internal call to loess.</p></dd>


<dt>family</dt>
<dd><p>character defining the method to be used for loess smoothing.
Allowed values are "gaussian" and "symmetric".See loess for more information.</p></dd>


<dt>peakGroupsMatrix</dt>
<dd><p>optional matrix of (raw) retention times for the peak
groups on which the alignment should be performed. Each column represents a
sample, each row a feature/peak group. Such a matrix is for example returned
by the adjustRtimePeakGroups method.</p></dd>


<dt>subset</dt>
<dd><p>integer with the indices of samples within the experiment on
which the alignment models should be estimated. Samples not part of the subset
are adjusted based on the closest subset sample. See description above
for more details.</p></dd>


<dt>subsetAdjust</dt>
<dd><p>character specifying the method with which non-subset
samples should be adjusted. Supported options are "previous" and "average"
(default). See description above for more information.</p></dd>


<dt>x</dt>
<dd><p>A Settings_group_features_xcms3_peakdensity_peakgroups S3 class object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A ProcessingSettings S3 class object with subclass
Settings_group_features_xcms3_peakdensity_peakgroups.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See the <a href="https://rdrr.io/pkg/patRoon/man/groupFeaturesXCMS3.html" class="external-link">groupFeaturesXCMS3</a> function from the
<span class="pkg">patRoon</span> package for more information and requirements.</p>
    </div>
    <div class="section level2">
    <h2 id="methods-by-generic-">Methods (by generic)<a class="anchor" aria-label="anchor" href="#methods-by-generic-"></a></h2>
    
<ul><li><p><code>validate(Settings_group_features_xcms3_peakdensity_peakgroups)</code>: Validates the object structure, returning a logical value of length one.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Helmus R, ter Laak TL, van Wezel AP, de Voogt P, Schymanski EL (2021).
“patRoon: open source software platform for environmental mass spectrometry based non-target screening.”
<em>Journal of Cheminformatics</em>, <b>13</b>(1).
<a href="https://doi.org/10.1186/s13321-020-00477-w" class="external-link">doi:10.1186/s13321-020-00477-w</a>
.</p>
<p>Helmus R, van de Velde B, Brunner AM, ter Laak TL, van Wezel AP, Schymanski EL (2022).
“patRoon 2.0: Improved non-target analysis workflows including automated transformation product screening.”
<em>Journal of Open Source Software</em>, <b>7</b>(71), 4029.
<a href="https://doi.org/10.21105/joss.04029" class="external-link">doi:10.21105/joss.04029</a>
.</p>
<p>Smith, C.A., Want, E.J., O'Maille, G., Abagyan,R., Siuzdak, G. (2006).
“XCMS: Processing mass spectrometry data for metabolite profiling using nonlinear peak alignment, matching and identification.”
<em>Analytical Chemistry</em>, <b>78</b>, 779--787.</p>
<p>Tautenhahn R, Boettcher C, Neumann S (2008).
“Highly sensitive feature detection for high resolution LC/MS.”
<em>BMC Bioinformatics</em>, <b>9</b>, 504.</p>
<p>Benton HP, Want EJ, Ebbels TMD (2010).
“Correction of mass calibration gaps in liquid chromatography-mass spectrometry metabolomics data.”
<em>BIOINFORMATICS</em>, <b>26</b>, 2488.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ricardo Cunha.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

