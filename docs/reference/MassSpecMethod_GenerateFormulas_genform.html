<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>MassSpecMethod_GenerateFormulas_genform S7 class — MassSpecMethod_GenerateFormulas_genform • StreamFind</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="MassSpecMethod_GenerateFormulas_genform S7 class — MassSpecMethod_GenerateFormulas_genform"><meta name="description" content="Settings for generating formulas using the algorithm GenForm.
The algorithm is used via the function generateFormulas from the package patRoon. Therefore,
it is highly recommended to check the original documentation of the function in patRoon for more details."><meta property="og:description" content="Settings for generating formulas using the algorithm GenForm.
The algorithm is used via the function generateFormulas from the package patRoon. Therefore,
it is highly recommended to check the original documentation of the function in patRoon for more details."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">StreamFind</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/StreamFind.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/app_guide.html">StreamFind App Guide</a></li>
    <li><a class="dropdown-item" href="../articles/demo_nts.html">Non-target Analysis for Wastewater Treatment Evaluation</a></li>
    <li><a class="dropdown-item" href="../articles/developer_guide.html">StreamFind Developer Guide</a></li>
    <li><a class="dropdown-item" href="../articles/general_guide.html">StreamFind General Introduction</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/odea-project/StreamFind/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>MassSpecMethod_GenerateFormulas_genform S7 class</h1>
      <small class="dont-index">Source: <a href="https://github.com/odea-project/StreamFind/blob/HEAD/R/class_MassSpecMethod_GenerateFormulas.R" class="external-link"><code>R/class_MassSpecMethod_GenerateFormulas.R</code></a></small>
      <div class="d-none name"><code>MassSpecMethod_GenerateFormulas_genform.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Settings for generating formulas using the algorithm <a href="https://sourceforge.net/projects/genform/" class="external-link">GenForm</a>.
The algorithm is used via the function <a href="https://rdrr.io/pkg/patRoon/man/generateFormulas.html" class="external-link">generateFormulas</a> from the package <span class="pkg">patRoon</span>. Therefore,
it is highly recommended to check the original documentation of the function in <span class="pkg">patRoon</span> for more details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MassSpecMethod_GenerateFormulas_genform</span><span class="op">(</span></span>
<span>  MSPeakListsClusterMzWindow <span class="op">=</span> <span class="fl">0.005</span>,</span>
<span>  MSPeakListsTopMost <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  MSPeakListsMinIntensityPre <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  MSPeakListsMinIntensityPost <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  MSPeakListsAvgFun <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  MSPeakListsMethod <span class="op">=</span> <span class="st">"distance"</span>,</span>
<span>  relMzDev <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  elements <span class="op">=</span> <span class="st">"CHNOP"</span>,</span>
<span>  hetero <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  oc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  thrMS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  thrMSMS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  thrComb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  maxCandidates <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  extraOpts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  calculateFeatures <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  featThreshold <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  featThresholdAnn <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>  absAlignMzDev <span class="op">=</span> <span class="fl">0.002</span>,</span>
<span>  MSMode <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  isolatePrec <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">120</span>,</span>
<span>  topMost <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  batchSize <span class="op">=</span> <span class="fl">8</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mspeaklistsclustermzwindow">MSPeakListsClusterMzWindow<a class="anchor" aria-label="anchor" href="#arg-mspeaklistsclustermzwindow"></a></dt>
<dd><p>m/z window (in Da) used for clustering m/z values when spectra are averaged.
For method="hclust" this corresponds to the cluster height, while for method="distance" this value is used to find
nearby masses (+/- window). Too small windows will prevent clustering m/z values (thus erroneously treating equal
masses along spectra as different), whereas too big windows may cluster unrelated m/z values from different or even
the same spectrum together.</p></dd>


<dt id="arg-mspeakliststopmost">MSPeakListsTopMost<a class="anchor" aria-label="anchor" href="#arg-mspeakliststopmost"></a></dt>
<dd><p>Only retain this maximum number of MS peaks when generating averaged spectra. Lowering
this number may exclude more irrelevant (noisy) MS peaks and decrease processing time, whereas higher values may
avoid excluding lower intense MS peaks that may still be of interest.</p></dd>


<dt id="arg-mspeaklistsminintensitypre">MSPeakListsMinIntensityPre<a class="anchor" aria-label="anchor" href="#arg-mspeaklistsminintensitypre"></a></dt>
<dd><p>MS peaks with intensities below this value will be removed (applied prior to
selection by <code>topMost</code>) before averaging.</p></dd>


<dt id="arg-mspeaklistsminintensitypost">MSPeakListsMinIntensityPost<a class="anchor" aria-label="anchor" href="#arg-mspeaklistsminintensitypost"></a></dt>
<dd><p>MS peaks with intensities below this value will be removed after averaging.</p></dd>


<dt id="arg-mspeaklistsavgfun">MSPeakListsAvgFun<a class="anchor" aria-label="anchor" href="#arg-mspeaklistsavgfun"></a></dt>
<dd><p>Character with the function name that is used to calculate average m/z values.</p></dd>


<dt id="arg-mspeaklistsmethod">MSPeakListsMethod<a class="anchor" aria-label="anchor" href="#arg-mspeaklistsmethod"></a></dt>
<dd><p>Method used for producing averaged MS spectra. Valid values are "hclust", used for
hierarchical clustering (using the fastcluster package), and "distance", to use the between peak distance.
The latter method may reduces processing time and memory requirements, at the potential cost of reduced accuracy.</p></dd>


<dt id="arg-relmzdev">relMzDev<a class="anchor" aria-label="anchor" href="#arg-relmzdev"></a></dt>
<dd><p>Numeric (length 1) with the relative mass deviation, in ppm.</p></dd>


<dt id="arg-elements">elements<a class="anchor" aria-label="anchor" href="#arg-elements"></a></dt>
<dd><p>Character vector with the elements to use for formulae annotation. Always try to work with a minimal
set by excluding elements you don't expect.</p></dd>


<dt id="arg-hetero">hetero<a class="anchor" aria-label="anchor" href="#arg-hetero"></a></dt>
<dd><p>Logical (length 1) indicating if heteroatoms are allowed in the formulae.</p></dd>


<dt id="arg-oc">oc<a class="anchor" aria-label="anchor" href="#arg-oc"></a></dt>
<dd><p>Logical (length 1) indicating presence of at least one carbon in the formulae.</p></dd>


<dt id="arg-thrms">thrMS<a class="anchor" aria-label="anchor" href="#arg-thrms"></a></dt>
<dd><p>Numeric (length 1) Sets the thresholds for the GenForm MS score (isoScore). Sets the thms command line
options, respectively. Set to NULL for no threshold.</p></dd>


<dt id="arg-thrmsms">thrMSMS<a class="anchor" aria-label="anchor" href="#arg-thrmsms"></a></dt>
<dd><p>Numeric (length 1) Sets the thresholds for the GenForm MS/MS score (MSMSScore). Sets the thmsms
command line options, respectively. Set to NULL for no threshold.</p></dd>


<dt id="arg-thrcomb">thrComb<a class="anchor" aria-label="anchor" href="#arg-thrcomb"></a></dt>
<dd><p>Numeric (length 1) Sets the thresholds for the GenForm combined score (combMatch). Sets the thcomb
command line options, respectively. Set to NULL for no threshold.</p></dd>


<dt id="arg-maxcandidates">maxCandidates<a class="anchor" aria-label="anchor" href="#arg-maxcandidates"></a></dt>
<dd><p>Numeric (length 1) with the maximum number of candidates to be generated.</p></dd>


<dt id="arg-extraopts">extraOpts<a class="anchor" aria-label="anchor" href="#arg-extraopts"></a></dt>
<dd><p>Character (length 1) with extra CLI options to be passed to the GenForm algorithm.</p></dd>


<dt id="arg-calculatefeatures">calculateFeatures<a class="anchor" aria-label="anchor" href="#arg-calculatefeatures"></a></dt>
<dd><p>Logical (length 1) indicating if features should be calculated.</p></dd>


<dt id="arg-featthreshold">featThreshold<a class="anchor" aria-label="anchor" href="#arg-featthreshold"></a></dt>
<dd><p>Numeric (length 1). If <code>calculateFeatures</code> is TRUE the minimum presence (from 0 to 1) of features
with formula annotation to be considered for the respective feature group.</p></dd>


<dt id="arg-featthresholdann">featThresholdAnn<a class="anchor" aria-label="anchor" href="#arg-featthresholdann"></a></dt>
<dd><p>Numeric (length 1). As <code>featThreshold</code>, but only considers features with annotations.</p></dd>


<dt id="arg-absalignmzdev">absAlignMzDev<a class="anchor" aria-label="anchor" href="#arg-absalignmzdev"></a></dt>
<dd><p>Numeric (length 1). When the group formula annotation consensus is made from feature annotations,
the <em>m/z</em> values of annotated MS/MS fragments may slightly deviate from those of the corresponding group MS/MS
peak list. The <code>absAlignMzDev</code> argument specifies the maximum <em>m/z</em> window used to re-align the mass peaks.</p></dd>


<dt id="arg-msmode">MSMode<a class="anchor" aria-label="anchor" href="#arg-msmode"></a></dt>
<dd><p>Character (length 1) with the MS mode to be used. Possible values are "MS", "MSMS", or "both".</p></dd>


<dt id="arg-isolateprec">isolatePrec<a class="anchor" aria-label="anchor" href="#arg-isolateprec"></a></dt>
<dd><p>Settings used for isolation of precursor mass peaks and their isotopes. This isolation is highly
important for accurate isotope scoring of candidates, as non-relevant mass peaks will dramatically decrease the score.
The value of <code>isolatePrec</code> should either be a <code>list</code> with parameters (see the <code>filter</code> method for <code>MSPeakLists</code> for
more details), <code>TRUE</code> for default parameters or <code>FALSE</code> for no isolation (e.g. when you already performed isolation
with the filter method). The <code>z</code> parameter (charge) is automatically deduced from the adduct used for annotation
(unless <code>isolatePrec</code> is FALSE), hence any custom <code>z</code> setting is ignored.</p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p>Numeric (length 1) with the maximum time in seconds to wait for the GenForm algorithm to finish.</p></dd>


<dt id="arg-topmost">topMost<a class="anchor" aria-label="anchor" href="#arg-topmost"></a></dt>
<dd><p>Numeric (length 1) with the maximum number of top candidates to be returned.</p></dd>


<dt id="arg-batchsize">batchSize<a class="anchor" aria-label="anchor" href="#arg-batchsize"></a></dt>
<dd><p>Maximum number of <code>GenForm</code> commands that should be run sequentially in each parallel process.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>MassSpecMethod_GenerateFormulas_genform</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Helmus R, ter Laak TL, van Wezel AP, de Voogt P, Schymanski EL (2021).
“patRoon: open source software platform for environmental mass spectrometry based non-target screening.”
<em>Journal of Cheminformatics</em>, <b>13</b>(1).
<a href="https://doi.org/10.1186/s13321-020-00477-w" class="external-link">doi:10.1186/s13321-020-00477-w</a>
.</p>
<p>Helmus R, van de Velde B, Brunner AM, ter Laak TL, van Wezel AP, Schymanski EL (2022).
“patRoon 2.0: Improved non-target analysis workflows including automated transformation product screening.”
<em>Journal of Open Source Software</em>, <b>7</b>(71), 4029.
<a href="https://doi.org/10.21105/joss.04029" class="external-link">doi:10.21105/joss.04029</a>
.</p>
<p>Meringer M, Reinker S, Zhang J, Muller A (2011).
“MS/MS data improves automated determination of molecular formulas by mass spectrometry.”
<em>MATCH Commun. Math. Comput. Chem</em>, <b>65</b>(2), 259–290.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ricardo Cunha.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

