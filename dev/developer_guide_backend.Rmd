---
title: 'Backend developer guide for MS data'
subtitle: |
  | Implementation of backend processing modules and algorithms for mass spectrometry
  | <br>

author:
  name: Ricardo Cunha
  email: cunha@iuta.de
  affiliation: "Institut f√ºr Umwelt & Energie, Technik & Analytik e. V. (IUTA) <br> Bliersheimer Str. 58 - 60, 47229 Duisburg"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  bookdown::html_document2:
    toc: yes
    toc_float: yes
    theme: paper
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}

# Libraries
library(knitr)
library(kableExtra)
library(magrittr)
library(ggplot2)
library(plotly)
library(StreamFind)

# Variables
logo <- NA_character_

# Global options
knitr::opts_chunk$set(echo = TRUE, fig.align = "center", fig.width = 9, results = "asis")

# Working directory
path_wd <- getwd()

# Add logo file
path_extdata <- system.file(package = "StreamFindData", dir = "extdata")
logo <- file.path(path_extdata, "logo_StreamFind.png")
```

```{r logo, echo=FALSE}
if (!is.na(logo)) {
  htmltools::img(
  src = knitr::image_uri(logo),
  alt = "logo",
  style =
    paste0("
      margin-left:inherit;
      position:absolute;
      top:150px;
      left:600px;
      width:", 250, "px;
      height:", 250*(1633/3070), "px;"
    )
  )
}
```

<br>

```{r resources, include=FALSE}
# MS files
all_files <- StreamFindData::get_all_file_paths()
files <- all_files[grepl("blank|influent|o3sw", all_files)]

# Chemicals database
db <- StreamFindData::get_tof_spiked_chemicals()
db <- db[grepl("S", db$tag), ]
cols <- c("name", "formula", "mass", "rt", "tag")
db <- db[, cols, with = FALSE]
db
```


***

# StreamFind

The backend of StreamFind is an R package and can be used for data management, processing, visualization and reporting. This guide focuses on mass spectrometry (MS) data and aims to instruct developers to implement new processing modules and additional processing algorithms for new or existing processing modules in StreamFind.

## Setup

The R package is in the GitHub [StreamFind repository](https://github.com/odea-project/StreamFind) of the [ODEA Project](https://github.com/odea-project). For development, the recommendation is to download the repository locally using [git](https://git-scm.com/) version control. The [GitHub desktop](https://desktop.github.com/) tool can be used for more easily install and configure git with your GitHub account, which is recommended for authoring contributions. Since it is an R package, the [RStudio](https://posit.co/products/open-source/rstudio/) IDE is recommended for development. Yet, others (e.g., [VS Code](https://code.visualstudio.com/download)) will also work. When using RStudio, the repository can be downloaded via new project, selecting version control, then git and finally adding the GitHub *url* of the StreamFind: https://github.com/odea-project/StreamFind. This should create a local image of the GitHub StreamFind repository directly with git tracking if git or GitHub desktop were properly installed and configured.

## Development

Considering that the local image of the StreamFind repository is installed with git version tracking, the first step for development is to create a dedicated branch for implementation of new processing modules and/or algorithms. The master branch should not be changed directly but modified by pull requests from the dedicated development branch, giving the opportunity for code revision.

## Structure

## Semantics

# R6 and S3

# *ProcessingSettings*

## Constructor

## S3 methods

# New module

# New *ProcessingSettings*









<br> <br>

***

<br>

<style>
body, p {
  color: black;
  font-family: Arial;
  text-align: justify;
  font-size: 12pt;
}
h1{
  font-size: 20pt;
  font-style: bold;
}
h2{
  font-size:18pt;
  font-style: bold;
}
h3{
  font-size:14pt;
  font-style: bold;
}
.list-group-item.active, .list-group-item.active:focus, .list-group-item.active:hover {
    background-color: #177013;
}
caption {
  color: black;
  font-size: 1.0em;
}
</style>
